services:
  - type: web
    name: cicl-server
    env: docker
    plan: free
    region: oregon
    dockerfilePath: ./Dockerfile
    autoDeploy: true
    healthCheckPath: /
    envVars:
      - key: NODE_ENV
        value: production
      
      - key: CLOUDCONVERT_API_KEY
        value: REPLACE_WITH_CLOUDCONVERT_API_KEY

  - type: web
    name: jodconverter
    env: docker
    plan: free
    region: oregon
    dockerfilePath: ./jodconverter/Dockerfile
    autoDeploy: true
    envVars:
      - key: SERVER_PORT
        value: 8080
      - key: JWT_SECRET
        value: CHANGE_ME_SECRET
      - key: FRONTEND_URL
        value: https://your-frontend.vercel.app
      - key: DATABASE_URL
        value: postgres://USER:PASSWORD@HOST:5432/auth_system
      - key: DB_HOST
        value: HOST
      - key: DB_NAME
        value: auth_system
      - key: DB_USER
        value: USER
      - key: DB_PASSWORD
        value: PASSWORD
      - key: DB_PORT
        value: 5432
